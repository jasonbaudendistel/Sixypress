{"name":"Sixypress","tagline":"Beginning Code For Sixy Press platform","body":"<?php\r\n/* vim: set expandtab sw=4 ts=4 sts=4: */\r\n/**\r\n * Front controller for config view / download and clear\r\n *\r\n * @package PhpMyAdmin-setup\r\n */\r\n\r\n/**\r\n * Core libraries.\r\n */\r\nrequire './lib/common.inc.php';\r\nrequire_once './libraries/config/Form.class.php';\r\nrequire_once './libraries/config/FormDisplay.class.php';\r\nrequire_once './setup/lib/ConfigGenerator.class.php';\r\n\r\nrequire './libraries/config/setup.forms.php';\r\n\r\n$form_display = new FormDisplay();\r\n$form_display->registerForm('_config.php', $forms['_config.php']);\r\n$form_display->save('_config.php');\r\n$config_file_path = ConfigFile::getInstance()->getFilePath();\r\n\r\nif (isset($_POST['eol'])) {\r\n    $_SESSION['eol'] = ($_POST['eol'] == 'unix') ? 'unix' : 'win';\r\n}\r\n\r\nif (PMA_ifSetOr($_POST['submit_clear'], '')) {\r\n    //\r\n    // Clear current config and return to main page\r\n    //\r\n    ConfigFile::getInstance()->resetConfigData();\r\n    // drop post data\r\n    header('HTTP/1.1 303 See Other');\r\n    header('Location: index.php');\r\n    exit;\r\n} elseif (PMA_ifSetOr($_POST['submit_download'], '')) {\r\n    //\r\n    // Output generated config file\r\n    //\r\n    PMA_download_header('config.inc.php', 'text/plain');\r\n    echo ConfigGenerator::getConfigFile();\r\n    exit;\r\n} elseif (PMA_ifSetOr($_POST['submit_save'], '')) {\r\n    //\r\n    // Save generated config file on the server\r\n    //\r\n    file_put_contents($config_file_path, ConfigGenerator::getConfigFile());\r\n    header('HTTP/1.1 303 See Other');\r\n    header('Location: index.php?action_done=config_saved');\r\n    exit;\r\n} elseif (PMA_ifSetOr($_POST['submit_load'], '')) {\r\n    //\r\n    // Load config file from the server\r\n    //\r\n    $cfg = array();\r\n    include_once $config_file_path;\r\n    ConfigFile::getInstance()->setConfigData($cfg);\r\n    header('HTTP/1.1 303 See Other');\r\n    header('Location: index.php');\r\n    exit;\r\n} elseif (PMA_ifSetOr($_POST['submit_delete'], '')) {\r\n    //\r\n    // Delete config file on the server\r\n    //\r\n    @unlink($config_file_path);\r\n    header('HTTP/1.1 303 See Other');\r\n    header('Location: index.php');\r\n    exit;\r\n} else {\r\n    //\r\n    // Show generated config file in a <textarea>\r\n    //\r\n    header('HTTP/1.1 303 See Other');\r\n    header('Location: index.php?page=config');\r\n    exit;\r\n}\r\n?>\r\n\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}